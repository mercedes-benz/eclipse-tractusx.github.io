"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[875],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=s(n),m=r,h=u["".concat(p,".").concat(m)]||u[m]||c[m]||l;return n?a.createElement(h,i(i({ref:t},d),{},{components:n})):a.createElement(h,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},7930:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const l={title:"TRG 5.07 - Chart Dependencies"},i=void 0,o={unversionedId:"release/trg-5/trg-5-7",id:"release/trg-5/trg-5-7",title:"TRG 5.07 - Chart Dependencies",description:"| Author               | Status | Created      | Post-History |",source:"@site/docs/release/trg-5/trg-5-7.md",sourceDirName:"release/trg-5",slug:"/release/trg-5/trg-5-7",permalink:"/docs/release/trg-5/trg-5-7",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/release/trg-5/trg-5-7.md",tags:[],version:"current",frontMatter:{title:"TRG 5.07 - Chart Dependencies"},sidebar:"docs",previous:{title:"TRG 5.06 - Application Configuration",permalink:"/docs/release/trg-5/trg-5-6"},next:{title:"TRG 6.01 - Released Helm Chart",permalink:"/docs/release/trg-6/trg-6-1"}},p={},s=[{value:"Description",id:"description",level:2},{value:"Why",id:"why",level:2},{value:"Helm dependency example",id:"helm-dependency-example",level:2},{value:"Installing a chart with dependencies",id:"installing-a-chart-with-dependencies",level:2},{value:"Aligning dependency versions",id:"aligning-dependency-versions",level:2}],d={toc:s};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Author"),(0,r.kt)("th",{parentName:"tr",align:null},"Status"),(0,r.kt)("th",{parentName:"tr",align:null},"Created"),(0,r.kt)("th",{parentName:"tr",align:null},"Post-History"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Catena-X System Team"),(0,r.kt)("td",{parentName:"tr",align:null},"Draft"),(0,r.kt)("td",{parentName:"tr",align:null},"02-Dec-2022"),(0,r.kt)("td",{parentName:"tr",align:null},"n/a")))),(0,r.kt)("h2",{id:"description"},"Description"),(0,r.kt)("p",null,"Helm chart dependecies are defined in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Chart.yaml")," file. They are used to provide additional software (e.g. database) that is required for running the main application."),(0,r.kt)("h2",{id:"why"},"Why"),(0,r.kt)("p",null,"The intent of this section is to align the versions of specific widely used dependencies so all product teams will use the same. This can lead to better parity and will grant the opportunity to probably use a single instane of these dependencies that can be shared among all products in the future."),(0,r.kt)("h2",{id:"helm-dependency-example"},"Helm dependency example"),(0,r.kt)("p",null,"An example dependency definition in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Chart.yaml")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"dependencies:\n  - condition: postgresql.enabled\n    alias: product-name-postgresql\n    name: postgresql\n    repository: https://charts.bitnami.com/bitnami\n    version: 11.x.x\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Usage of condition, alias and version properties are optional but highly recommended"),(0,r.kt)("li",{parentName:"ul"},"Add a unique alias as name to your dependency that corresponds with your product name. This can be referenced in the ",(0,r.kt)("inlineCode",{parentName:"li"},"values.yaml")," file"),(0,r.kt)("li",{parentName:"ul"},"With the condition, dependencies can be disabled/enabled on demand")),(0,r.kt)("h2",{id:"installing-a-chart-with-dependencies"},"Installing a chart with dependencies"),(0,r.kt)("p",null,"The following commands have to run before installing the chart if it has dependencies:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"helm repo add [REPO_URL] #for example: https://charts.bitnami.com/bitnami\nhelm dependency update\n")),(0,r.kt)("p",null,"Then the install can be done with ",(0,r.kt)("inlineCode",{parentName:"p"},"helm install [NAME] [CHART] [flags]")),(0,r.kt)("h2",{id:"aligning-dependency-versions"},"Aligning dependency versions"),(0,r.kt)("p",null,"The following table describes the required version of dependencies for all products."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Repo URL"),(0,r.kt)("th",{parentName:"tr",align:null},"Chart version"),(0,r.kt)("th",{parentName:"tr",align:null},"App version"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"postgresql"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://charts.bitnami.com/bitnami"},"Bitnami")),(0,r.kt)("td",{parentName:"tr",align:null},"11.x.x"),(0,r.kt)("td",{parentName:"tr",align:null},"14.5.0")))))}c.isMDXComponent=!0}}]);